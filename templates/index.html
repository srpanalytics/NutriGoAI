{% extends "base.html" %}
{% block content %}
<div class="card input-card">
  <h2>Enter Your Details</h2>
  {% if error %}
    <div class="alert error">{{ error }}</div>
  {% endif %}

  <form method="post" class="form-grid">
    <div class="form-group">
      <label>Weight <span>(kg)</span></label>
      <input type="number" name="weight" min="1" step="0.1" required placeholder="e.g. 70"
             value="{{ request.form.weight or '' }}">
    </div>
    <div class="form-group">
      <label>Height <span>(cm)</span></label>
      <input type="number" name="height" min="30" max="300" step="0.1" required placeholder="e.g. 170"
             value="{{ request.form.height or '' }}">
    </div>
    <div class="form-group">
      <label>Age <span>(years)</span></label>
      <input type="number" name="age" min="10" max="120" placeholder="e.g. 30"
             value="{{ request.form.age or '' }}">
    </div>
    <div class="form-group">
      <label>Gender<span>*</span></label>
      <select name="gender" required>
        <option value="" {% if not request.form.gender %}selected{% endif %}>Select gender</option>
        <option value="male" {% if request.form.gender == "male" %}selected{% endif %}>Male</option>
        <option value="female" {% if request.form.gender == "female" %}selected{% endif %}>Female</option>
      </select>
    </div>
    <div class="form-group">
      <label>Activity Level<span>*</span></label>
      <select name="activity" required>
        <option value="" {% if not request.form.activity %}selected{% endif %}>Select activity</option>
        <option value="sedentary" {% if request.form.activity == "sedentary" %}selected{% endif %}>Sedentary</option>
        <option value="light" {% if request.form.activity == "light" %}selected{% endif %}>Light</option>
        <option value="moderate" {% if request.form.activity == "moderate" %}selected{% endif %}>Moderate</option>
        <option value="active" {% if request.form.activity == "active" %}selected{% endif %}>Active</option>
        <option value="very_active" {% if request.form.activity == "very_active" %}selected{% endif %}>Very Active</option>
      </select>
    </div>
    <div class="form-group">
      <label>Goal<span>*</span></label>
      <select name="goal" required>
        <option value="" {% if not request.form.goal %}selected{% endif %}>Select goal</option>
        <option value="maintenance" {% if request.form.goal == "maintenance" %}selected{% endif %}>Maintenance</option>
        <option value="loss" {% if request.form.goal == "loss" %}selected{% endif %}>Weight Loss</option>
        <option value="gain" {% if request.form.goal == "gain" %}selected{% endif %}>Weight Gain</option>
        <option value="muscle" {% if request.form.goal == "muscle" %}selected{% endif %}>Muscle Gain</option>
      </select>
    </div>
    <div class="form-group">
      <label>Food Preference</label>
      <select name="food_pref">
        <option value="">Any</option>
        <option value="Veg" {% if request.form.food_pref == "Veg" %}selected{% endif %}>Veg</option>
        <option value="Non-Veg" {% if request.form.food_pref == "Non-Veg" %}selected{% endif %}>Non-Veg</option>
      </select>
    </div>
    <div class="form-group">
      <label>Nutrient Focus</label>
      <select name="nutrient_focus">
        {% for nf in nutrient_focus_list %}
          <option value="{{ nf }}" {% if request.form.nutrient_focus == nf %}selected{% endif %}>{{ nf }}</option>
        {% endfor %}
      </select>
    </div>

    <button type="submit" class="btn-main">Get Recommendations</button>
  </form>
</div>
{% endblock %}
