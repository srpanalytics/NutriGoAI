{% extends "base.html" %}
{% block content %}
<div class="card results">
  <h2 class="section-title">{{ message }}</h2>

  {% if targets %}
  <div class="targets-row">
    <span>ðŸ”¸ <strong>Calories:</strong> {{ targets.calories }} kcal</span>
    <span>ðŸ”¸ <strong>Protein:</strong> {{ targets.protein_g }} g</span>
    <span>ðŸ”¸ <strong>Fat:</strong> {{ targets.fat_g }} g</span>
    <span>ðŸ”¸ <strong>Carbs:</strong> {{ targets.carbs_g }} g</span>
  </div>
  {% endif %}

  {% if results %}
  <div class="food-list">
    {% for row in results %}
    <div class="food-card">
      <div>
        <span class="food-rank">#{{ loop.index }}</span>
        <h3 class="food-name">{{ row.Food }}</h3>
      </div>
      <ul class="food-info">
        <li><strong>Calories:</strong> {{ row.Calories }}</li>
        <li><strong>Protein:</strong> {{ row.Protein }} g</li>
        <li><strong>Fiber:</strong> {{ row.Fiber }} g</li>
        <li><strong>Sugar:</strong> {{ row.Sugar }} g</li>
        <li class="highlight">
          {% if row.Protein >= 10 %}<span class="badge protein">High Protein</span>
          {% elif row.Fiber >= 8 %}<span class="badge fiber">High Fiber</span>
          {% elif row.Sugar <= 2 %}<span class="badge sugar">Low Sugar</span>
          {% elif row.Calories <= 50 %}<span class="badge calorie">Low Calorie</span>
          {% else %}-{% endif %}
        </li>
      </ul>
    </div>
    {% endfor %}
  </div>
  {% else %}
    <p class="empty-note">No recommendations found.</p>
  {% endif %}

  <a href="{{ url_for('index') }}" class="btn-secondary">&larr; Back</a>
</div>
{% endblock %}
